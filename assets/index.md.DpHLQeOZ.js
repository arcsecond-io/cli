import{_ as s,c as i,o as a,a2 as e}from"./chunks/framework.RzY3PHZ4.js";const u=JSON.parse('{"title":"Arcsecond CLI","description":"Arcsecond CLI","frontmatter":{"layout":"home","title":"Arcsecond CLI","description":"Arcsecond CLI","hero":{"name":"Arcsecond CLI","tagline":"The command-line utility / Python module to access the resources of Arcsecond.io, and easily upload your data to Arcsecond Cloud Storage.","image":{"src":"/img/logo-circle.png","alt":"Arcsecond CLI"}},"footer":"MIT Licensed | Copyright © 2018-present Arcsecond.io (F52 Tech)."},"headers":[],"relativePath":"index.md","filePath":"index.md"}'),t={name:"index.md"},n=e(`<h2 id="install" tabindex="-1">Install <a class="header-anchor" href="#install" aria-label="Permalink to &quot;Install&quot;">​</a></h2><p>Simply issue the following in a Terminal:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> arcsecond</span></span></code></pre></div><p>To upgrade an existing Arcsecond installation:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> arcsecond</span></span></code></pre></div><p>The help is accessible like any other command line:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> arcsecond</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --help</span></span></code></pre></div><p>or, for subcommand</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> arcsecond</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">comman</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --help</span></span></code></pre></div><p>The Arcsecond CLI usage is similar to a utility like <code>git</code>. That is, <code>arcsecond</code> is the main entry point, followed by a command. Most of the commands are simply the name of API resources.</p><h2 id="setup" tabindex="-1">Setup <a class="header-anchor" href="#setup" aria-label="Permalink to &quot;Setup&quot;">​</a></h2><p>To use the CLI, you need an Arcsecond account (it is entirely free to create one). In your Settings page in <a href="https://www.arcsecond.io" target="_blank" rel="noreferrer">https://www.arcsecond.io</a> you will find your Access Key and your Upload Key. They give a different access level to your resources.</p><p>Use the Access Key to have complete access to your resources. <strong>Use your Access Key only on trusted computers.</strong>. If you simply want to use the CLI for uploading files, use the Upload Key, which has just enough permissions to upload data to your account, or your observatory portals.</p><p>Then, you can login, providing answers to the prompts.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> arcsecond</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> login</span></span></code></pre></div><p>To skip prompts:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> arcsecond</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> login</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --username</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">usernam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --upload_key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p>By logging in, <strong>your private Access key or your Upload Key will be stored locally</strong> in the config file in <code>~/.config/arcsecond/config.ini</code>.</p><p>Logging in again will overwrite the current key with the new one (assuming login is a success, of course).</p><p>If you think your key is compromised, you can regenerate one in your profile settings in <a href="https://www.arcsecond.io" target="_blank" rel="noreferrer">https://www.arcsecond.io</a>. You cannot regenerate a key with the cli.</p><h2 id="data-upload" tabindex="-1">Data Upload <a class="header-anchor" href="#data-upload" aria-label="Permalink to &quot;Data Upload&quot;">​</a></h2><h3 id="using-the-cli" tabindex="-1">Using the CLI <a class="header-anchor" href="#using-the-cli" aria-label="Permalink to &quot;Using the CLI&quot;">​</a></h3><p>The Arcsecond CLI makes it easy to upload files to your account or your observatory portals.</p><p><strong>All non-hidden files will be uploaded.</strong> Be careful to choose folders that contain only data you want to send to the cloud. Of course, in case of a mistake, the data can later on be deleted from the various Data pages available on the web.</p><p>Here are the command for basic direct upload:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> arcsecond</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [OPTIONS] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">folder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p>There are five <code>OPTIONS</code>:</p><ul><li><code>-d &lt;name or uuuid&gt;</code> (or <code>--dataset &lt;name or uuuid&gt;</code>) to tell the CLI to what dataset all files of the folder (and its subfolders) must be put. The argument can either be a name or a UUID. If it is a name, Oort will try to find it. If none is found, Oort will create it. If it is a UUID, Oort will look for it. If none is found, Oort will raise an error.</li><li><code>-t &lt;telescope uuid&gt;</code> (or <code>--telescope &lt;telescope uuid&gt;</code>) to tell the CLI to attach the dataset to a specific telescope (recommended). If none provided, a telescope can be chosen in the &#39;Datasets&#39; webpage.</li><li><code>-p &lt;subdomain&gt;</code> (or <code>--portal &lt;subdomain&gt;</code>) to tell the CLI to send files to a portal.</li></ul><p>The <code>upload</code> command will summarise its settings and ask for confirmation before proceeding. It is a small step to ensure that no mistake have been made before starting upload.</p><p>Use: <code>arcsecond datasets</code> to get a list of datasets already available.</p><h3 id="using-python-code" tabindex="-1">Using Python code <a class="header-anchor" href="#using-python-code" aria-label="Permalink to &quot;Using Python code&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pathlib </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Path</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arcsecond </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ArcsecondConfig, UploadContext, DataFileUploader, walk_folder_and_upload</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ArcsecondConfig() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># it will read your config file.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">context </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UploadContext(config, </span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">                        dataset_uuid_or_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;dataset uuid or name&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">                        telescope_uuid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;telescope uuid or None&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">                        org_subdomain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;portal subdomain or None&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">context.validate() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># important step to perform before uploading.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># For uploading, there are two possibilities:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. provide a folder, and let Arcsecond walk accross its content:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">walk_folder_and_upload(context, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/folder/path/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. do it manually (no check for hidden files, and no estimation of sizes etc). </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">root_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Path(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/folder/path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> root_path.glob(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;**/*&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    uploader </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DataFileUploader(context, root_path, file_path, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">display_progress</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    status, substatus, error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> uploader.upload_file(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">is_raw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">custom_tags</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[])</span></span></code></pre></div><h2 id="arcsecond-io" tabindex="-1">Arcsecond.io ? <a class="header-anchor" href="#arcsecond-io" aria-label="Permalink to &quot;Arcsecond.io ?&quot;">​</a></h2><p>Arcsecond.io is the Astronomical Observations Platform.</p><p>It is a unique and comprehensive cloud platform covering the complete observation&#39;s lifecycle, for both individual astronomers and observatories, with a consistent set of capabilities:</p><p>(Note: the description below corresponds to the coming version V5 of Arcsecond planned for the next Solstice &#39;24 in June).</p><ul><li>Explore: Use <strong>Night Explorer</strong> (a.k.a. iObserve) to easily identify which target are best suited for which night.</li><li>Plan: Use our new <strong>Night Plans</strong> to carefully craft your future observing nights.</li><li>Observe: Record your observing nights with <strong>Night Logs</strong>, and attach data to each observation.</li><li>Store: Choose the industry-grade AWS-backed secured <strong>Cloud Storage</strong> of Arcsecond, or attach external ones.</li><li>Distribute: Easily create <strong>Data Packages</strong> of your observations for sharing with peers or visiting observers.</li></ul><p>Arcsecond is made by an astronomer for astronomers.</p>`,38),l=[n];function o(h,p,r,d,k,c){return a(),i("div",null,l)}const y=s(t,[["render",o]]);export{u as __pageData,y as default};
